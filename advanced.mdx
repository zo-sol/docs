---
title: "Advanced Functions"
description: "Internal and advanced functions for power users"
---

<Warning>
These functions are advanced/internal. Use them only if you need low-level control over the SDK behavior.
</Warning>

## Overview

These advanced functions provide deeper access to the SDK internals. They are useful for building custom solutions or debugging.

---

## Writer Functions

### `manageRowData()`

Low-level function for managing row data in tables. Use this when you need fine-grained control over row operations.

| **Module** | `writer` |
|------------|----------|
| **Use Case** | Custom row management, batch operations |

```typescript
import { manageRowData } from 'iqlabs-sdk/writer';

// Advanced row manipulation
await manageRowData(connection, signer, {
  dbRootId: 'my-db',
  tableSeed: 'users',
  operation: 'update',
  rowData: JSON.stringify({ id: 1, name: 'Updated Name' })
});
```

---

## Reader Functions

### `readUserState()`

Reads the UserState PDA for a given user. Returns profile information, file counts, and other user-specific data.

| **Module** | `reader` |
|------------|----------|
| **Use Case** | Fetching user profile data, checking upload counts |

```typescript
import { readUserState } from 'iqlabs-sdk/reader';

const userState = await readUserState(userPubkey);
console.log('Profile:', userState.profile);
console.log('Upload count:', userState.fileCount);
```

---

### `readInventoryMetadata()`

Reads metadata associated with a user's inventory (uploaded files).

| **Module** | `reader` |
|------------|----------|
| **Use Case** | Listing user files with metadata, file management |

```typescript
import { readInventoryMetadata } from 'iqlabs-sdk/reader';

const metadata = await readInventoryMetadata(userPubkey);
metadata.forEach(item => {
  console.log(`File: ${item.name}, Size: ${item.size}, Signature: ${item.signature}`);
});
```

---

### `fetchAccountTransactions()`

Fetches all transactions for a specific account. Useful for building transaction history or analyzing account activity.

| **Module** | `reader` |
|------------|----------|
| **Use Case** | Transaction history, account analysis, debugging |

```typescript
import { fetchAccountTransactions } from 'iqlabs-sdk/reader';

const transactions = await fetchAccountTransactions(accountPubkey, {
  limit: 50,
  before: lastSignature // for pagination
});

transactions.forEach(tx => {
  console.log(`Signature: ${tx.signature}, Block: ${tx.slot}`);
});
```

---

### `getSessionPdaList()`

Retrieves a list of session PDAs. Sessions are used for managing temporary or stateful interactions.

| **Module** | `reader` |
|------------|----------|
| **Use Case** | Session management, active session tracking |

```typescript
import { getSessionPdaList } from 'iqlabs-sdk/reader';

const sessions = await getSessionPdaList(userPubkey);
sessions.forEach(session => {
  console.log(`Session PDA: ${session.pda}, Active: ${session.isActive}`);
});
```

---

## Utility Functions

### `deriveDmSeed()`

Derives a deterministic seed for direct messaging (DM) between two users. The seed is the same regardless of the order of the two wallets.

| **Module** | `utils` / `reader` |
|------------|----------|
| **Use Case** | Creating consistent connection identifiers, DM channel setup |

```typescript
import { deriveDmSeed } from 'iqlabs-sdk/utils';

// Order doesn't matter - same seed either way
const seed1 = deriveDmSeed(walletA, walletB);
const seed2 = deriveDmSeed(walletB, walletA);

console.log(seed1 === seed2); // true
```

---

### `toSeedBytes()`

Converts a string seed to the byte format required for PDA derivation.

| **Module** | `utils` |
|------------|----------|
| **Use Case** | Custom PDA derivation, low-level seed manipulation |

```typescript
import { toSeedBytes } from 'iqlabs-sdk/utils';

const seedString = 'my-custom-seed';
const seedBytes = toSeedBytes(seedString);

// Use with PDA derivation
const [pda, bump] = PublicKey.findProgramAddressSync(
  [seedBytes, otherSeed],
  programId
);
```

---

## When to Use Advanced Functions

<AccordionGroup>
  <Accordion title="Custom integrations">
    When building custom integrations that require direct access to PDAs or transaction parsing.
  </Accordion>
  <Accordion title="Debugging">
    When you need to inspect raw account data or transaction history for debugging purposes.
  </Accordion>
  <Accordion title="Performance optimization">
    When you need to batch operations or reduce RPC calls by accessing lower-level functions.
  </Accordion>
  <Accordion title="Building tools">
    When creating developer tools, explorers, or analytics dashboards that need comprehensive data access.
  </Accordion>
</AccordionGroup>

---

## Additional Resources

<CardGroup cols={2}>
  <Card title="GitHub Example" icon="github" href="https://github.com/IQCoreTeam/IQSdkUsageExampleCliTool">
    Check out a complete example project using IQLabs SDK.
  </Card>
  <Card title="X (Twitter)" icon="x-twitter" href="https://x.com/IQLabsOfficial">
    Follow us for updates and announcements.
  </Card>
</CardGroup>
